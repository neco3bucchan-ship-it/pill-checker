# iPhoneで動作確認するためのデプロイ手順（超簡単版）

## 📱 目標
iPhoneのSafariでアプリを開いて、カメラ機能をテストできるようにする

---

## 🚀 ステップ1: GitHubにアップロード（10分）

### 1-1. GitHubアカウントを作る（まだ持っていない場合）

1. https://github.com を開く
2. 右上の「Sign up」をクリック
3. メールアドレス、パスワード、ユーザー名を入力
4. メール認証を完了

### 1-2. GitHub Desktopをインストール（最も簡単な方法）

1. https://desktop.github.com を開く
2. 「Download for Windows」をクリック
3. ダウンロードしたファイルを実行してインストール
4. GitHub Desktopを起動して、GitHubアカウントでログイン

### 1-3. プロジェクトをGitHubにアップロード

1. GitHub Desktopで「File」→「Add Local Repository」をクリック
2. 「Choose...」をクリック
3. **このフォルダを選択**：
   ```
   C:\Users\t-ich\Documents\いまにゅClaud AI Cording202507\合宿202511\お薬飲み忘れツール\pill-checker
   ```
4. 「Add repository」をクリック
5. 左下の「Summary」に「Initial commit」と入力
6. 「Commit to master」（または「Commit to main」）をクリック
7. コミットが完了したら、画面中央の青いボックス「Push commits to the origin remote」の中の「Push origin」ボタンをクリック
8. 数秒待つと、GitHubにアップロードされます
9. 完了！

---

## 🌐 ステップ2: Vercelでデプロイ（5分）

### 2-1. Vercelアカウントを作る

1. https://vercel.com を開く
2. 右上の「Sign Up」をクリック
3. 「Continue with GitHub」をクリック（推奨）
4. GitHubアカウントで認証
5. Vercelへのアクセス許可を承認

### 2-2. プロジェクトをデプロイ

1. Vercelのダッシュボード（https://vercel.com/dashboard）に移動
2. 「Add New...」→「Project」をクリック
3. 先ほど作成したGitHubリポジトリを選択
4. 「Import」をクリック

### 2-3. ⚠️ 重要：Root Directoryを設定

1. 「Root Directory」の「Edit」をクリック
2. 「Root Directory」を選択
3. `pill-checker` と入力（または「Browse」で選択）
4. 「Continue」をクリック

### 2-4. デプロイ実行

1. 設定を確認（Framework Preset: Next.js になっているはず）
2. 「Deploy」をクリック
3. 2-3分待つ（進行状況が表示されます）
4. 「Congratulations!」と表示されたら完了！

### 2-5. URLを確認

**方法1: デプロイ成功ページから確認（「Visit」ボタンが見つからない場合）**

1. ブラウザで https://vercel.com/dashboard にアクセス
2. プロジェクト一覧から、デプロイしたプロジェクト名をクリック
3. プロジェクトページが開きます
4. 上部のタブから「Deployments」をクリック
5. 最新のデプロイを確認：
   - **「Ready」**（緑色）と表示されていれば成功です ✅
   - **「Building」**と表示されている場合は、完了まで待ちます（2-3分）
   - **「Error」**と表示されている場合は、エラーログを確認してください
6. デプロイが「Ready」の場合、その行の右側に**「Visit」**ボタンまたは**URL**が表示されます
7. URLをクリックするか、コピーして保存してください
   - 例：`https://pill-checker-xxxxx.vercel.app`

**方法2: プロジェクト設定から確認**

1. プロジェクトページの「Settings」タブをクリック
2. 「General」セクションを確認
3. 「Domains」の下に、デプロイされたURLが表示されます
4. このURLをコピーして保存してください

**⚠️ 404エラーが表示される場合**

404エラーが表示される場合は、以下を確認してください：

1. **Root Directoryの設定を確認**
   - 「Settings」→「Build and Deployment」を開く
   - 「Root Directory」が `pill-checker` に設定されているか確認
   - 設定されていない場合は、`pill-checker` と入力して保存
   - 保存後、「Deployments」タブから「Redeploy」をクリックして再デプロイ

2. **デプロイの状態を確認**
   - 「Deployments」タブで、最新のデプロイが「Ready」になっているか確認
   - 「Error」の場合は、エラーログを確認して修正が必要です

3. **数分待つ**
   - デプロイ直後は、反映に数分かかる場合があります
   - 5-10分待ってから再度アクセスしてみてください

---

## 🔍 ステップ2-6: デプロイ後の確認（重要！）

デプロイが成功したら、以下の手順で確認してください：

### 確認手順

1. **Vercelのダッシュボードにアクセス**
   - https://vercel.com/dashboard を開く
   - ログインしていることを確認

2. **プロジェクトを開く**
   - プロジェクト一覧から、デプロイしたプロジェクト名をクリック
   - 例：`pill-checker` や `pill-checker-4` など

3. **デプロイの状態を確認**
   - プロジェクトページの上部タブから「Deployments」をクリック
   - 最新のデプロイの状態を確認：
     - ✅ **「Ready」**（緑色）→ デプロイ成功！次のステップへ
     - ⏳ **「Building」** → ビルド中（2-3分待つ）
     - ❌ **「Error」** → エラーが発生（ログを確認して修正が必要）

4. **URLを確認（「Visit」ボタンの見つけ方）**
   - デプロイが「Ready」の場合、以下のいずれかの方法でURLを確認できます：
     
     **方法1: デプロイメントの行をクリック（最も簡単）**
     - 「Ready」と表示されているデプロイメントの行全体をクリック
     - デプロイメントの詳細ページが開きます
     - ページの上部に「Visit」ボタンが表示されます
     - 「Visit」ボタンをクリックすると、アプリが開きます
     - または、URLが表示されているので、それをコピーして保存してください
     
     **方法2: 三点メニュー（...）から選択**
     - デプロイメントの行の右側にある「...」（三点メニュー）アイコンをクリック
     - メニューが表示されます
     - 「Visit」または「Open」をクリック
     
     **方法3: デプロイメントIDをクリック**
     - デプロイメントの行の左側にあるID（例：`5QmzgEH2t`）をクリック
     - デプロイメントの詳細ページが開きます
     - ページの上部に「Visit」ボタンが表示されます
   
   - **URLの例**: `https://pill-checker-xxxxx.vercel.app`
   - このURLをコピーして保存してください

5. **ブラウザで開いて確認**
   - コピーしたURLをブラウザのアドレスバーに貼り付けて開く
   - アプリが正常に表示されるか確認
   - 404エラーが表示される場合は、下記の「404エラーの対処法」を参照

### 404エラーが表示される場合の対処法

404エラーが表示される場合は、以下の手順で修正してください：

1. **Root Directoryの設定を確認**
   - プロジェクトページの「Settings」タブをクリック
   - 左側のサイドバーから「Build and Deployment」をクリック
   - ページを下にスクロールして「Root Directory」セクションを見つける
   - 「Edit」ボタンをクリック
   - `pill-checker` と入力して「Save」をクリック

2. **再デプロイを実行**
   - 「Deployments」タブに戻る
   - 右上の「Redeploy」ボタンをクリック
   - 「Redeploy」をクリックして再デプロイを開始
   - 2-3分待つ

3. **再度確認**
   - デプロイが「Ready」になったら、再度URLにアクセス
   - 正常に表示されることを確認

---

## 📱 ステップ3: iPhoneで動作確認（5分）

### 3-1. iPhoneのSafariで開く

1. iPhoneのSafariを開く
2. コピーしたURLをアドレスバーに貼り付けて開く
3. ページが表示されることを確認

### 3-2. カメラ機能をテスト

1. 「6. カメラ判定」セクションまでスクロール
2. 「カメラを起動」ボタンをタップ
3. カメラへのアクセス許可を求められたら「許可」をタップ
4. カメラプレビューが表示されることを確認
5. 薬を撮影して「カメラで撮影して自動判定」をタップ
6. 判定結果が表示されることを確認

### 3-3. PWAとしてインストール（オプション）

1. Safariの下部にある共有ボタン（□↑）をタップ
2. 「ホーム画面に追加」を選択
3. 「追加」をタップ
4. ホーム画面にアイコンが追加されます
5. アイコンをタップしてアプリを起動できます

---

## ✅ 確認チェックリスト

- [ ] GitHubにプロジェクトがアップロードされている
- [ ] Vercelでデプロイが成功している
- [ ] URLが `https://` で始まっている
- [ ] iPhoneのSafariでアプリが表示される
- [ ] カメラ機能が動作する
- [ ] 判定結果が正しく表示される

---

## 🔧 トラブルシューティング

### 問題1: ビルドエラーが出る

**対処法**:
- Vercelのデプロイログを確認
- 「Root Directory」が `pill-checker` に設定されているか確認

### 問題2: カメラが動かない

**確認事項**:
- URLが `https://` で始まっているか（必須！）
- ブラウザのアドレスバーに🔒マークがあるか
- iPhoneの設定でSafariのカメラ権限が許可されているか

### 問題3: ページが表示されない

**対処法**:
- 「Root Directory」の設定を確認（`pill-checker`に設定）
- Vercelのデプロイログでエラーがないか確認

---

## 📝 今後の更新方法

コードを変更した後、再度デプロイする方法：

1. ローカルでコードを変更
2. GitHub Desktopで「Commit to main」をクリック
3. 「Push origin」をクリック
4. Vercelが自動的に再デプロイを開始
5. 数分で新しいバージョンが公開されます

---

## 🎉 完了！

これで、iPhoneからいつでもアプリにアクセスできるようになりました！

**デプロイされたURL**: `https://your-app-name.vercel.app`

このURLをブックマークして、いつでもアクセスできます。

---

## 🚀 今すぐやること（デプロイ成功後）

デプロイが成功したら、以下の手順を実行してください：

### 1. Vercelのダッシュボードを開く
- ブラウザで https://vercel.com/dashboard を開く
- ログインしていることを確認

### 2. プロジェクトを開く
- プロジェクト一覧から、デプロイしたプロジェクト名をクリック
- 例：`pill-checker` や `pill-checker-4` など

### 3. URLを確認
- プロジェクトページの上部に、デプロイされたURLが表示されています
- または、「Deployments」タブを開いて、最新のデプロイの「Visit」ボタンをクリック
- URLをコピーして保存してください

### 4. ブラウザで開いて確認
- コピーしたURLをブラウザのアドレスバーに貼り付けて開く
- アプリが正常に表示されるか確認

### 5. 404エラーが出る場合
- 「Settings」→「Build and Deployment」を開く
- 「Root Directory」が `pill-checker` に設定されているか確認
- 設定されていない場合は、`pill-checker` と入力して保存
- 「Deployments」タブから「Redeploy」をクリックして再デプロイ

### 6. iPhoneで開く
- iPhoneのSafariで、コピーしたURLを開く
- アプリが正常に表示されることを確認
- カメラ機能をテスト

